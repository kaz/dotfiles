- name: create ~/.npm/lib
  file:
    state: directory
    path: ~/.npm/lib
    mode: 0700

- name: install npm packages
  npm:
    state: latest
    global: yes
    name: "{{ item }}"
  loop:
    - "@cloudflare/wrangler"
    - "@protobuf-ts/plugin"
    - "@trivago/prettier-plugin-sort-imports"
    - npm-check-updates
    - prettier
    - ts-node
